# 01. static ë³€ìˆ˜, ë©”ì„œë“œì˜ ì°¨ì´ì™€ ìë°” ë©”ëª¨ë¦¬ ì˜ì—­ ê°„ë‹¨ ì •ë¦¬

> Javaì—ì„œ staticì„ ì‚¬ìš©í•œë‹¤ëŠ”ê±´ ì‹œìŠ¤í…œ ì‹œì‘ ì‹œ ë©”ëª¨ë¦¬ì— í•œë²ˆ í• ë‹¹ë˜ì–´ í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë  ë•Œ í•´ì œë˜ëŠ” ê²ƒì„ ì˜ë¯¸  
> ì°¸ê³  : https://mangkyu.tistory.com/47

- ì¼ë°˜ì ìœ¼ë¡œ ìš°ë¦¬ê°€ ë§Œë“  `í´ë˜ìŠ¤`ëŠ” `static`(`ë©”ì„œë“œ`)`ì˜ì—­`ì— `ìƒì„±` ë¨
  - `static í‚¤ì›Œë“œ` í†µí•´ `static ì˜ì—­ì— í• ë‹¹ëœ ë©”ëª¨ë¦¬`ëŠ” `ëª¨ë“  ê°ì²´ê°€ ê³µìœ í•˜ëŠ” ë©”ëª¨ë¦¬`
  - GC(Garbage Collector)ì˜ ê´€ë¦¬ ì˜ì—­ ë°–ì— ì¡´ì¬í•¨, `static í‚¤ì›Œë“œ` ë‚¨ë°œ ì§€ì–‘
- new ì—°ì‚°ì„ í†µí•´ ìƒì„±í•œ ê°ì²´ëŠ” heap (í™)ì˜ì—­ì— ìƒì„± ë¨
  - `Heap` ì˜ì—­ ë©”ëª¨ë¦¬ëŠ” `GC`(`Garbage Collector`)ê°€ `ìˆ˜ì‹œë¡œ ê´€ë¦¬`

## 01-1. Static ë³€ìˆ˜(ì •ì  ë³€ìˆ˜)

```java
// ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ì‚¬ìš©
package com.test;

class MyClass {

    // ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜
    int count;

    public MyClass() {
        this.count++;
        System.out.println("count => " + count);
    }
}

public class Test {

    public static void main(String[] args) {
        MyClass myClass = new MyClass();
        MyClass myClass2 = new MyClass();
    }
}

// ê²°ê³¼
count => 1
count => 1
```

```java
// í´ë˜ìŠ¤ ë³€ìˆ˜ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
package com.test;

class MyClass {

    // í´ë˜ìŠ¤ ë³€ìˆ˜
    static int count = 0;

    public MyClass() {
        this.count++;
        System.out.println("count => " + count);
    }
}

public class Test {

    public static void main(String[] args) {
        MyClass myClass = new MyClass();
        MyClass myClass2 = new MyClass();
    }
}

// ê²°ê³¼
count => 1
count => 2
```

- `í´ë˜ìŠ¤ ë³€ìˆ˜`ëŠ” **í•´ë‹¹ í´ë˜ìŠ¤ê°€ ë¡œë“œë˜ëŠ” ì‹œì ì— ë”± í•œ ë²ˆ ë©”ëª¨ë¦¬ì— í• ë‹¹**, í”„ë¡œê·¸ë¨ ì¢…ë£Œ ì‹œ í•´ì œ ëœë‹¤
  - ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± ì¦ëŒ€
- ë©”ëª¨ë¦¬ì— í•œë²ˆ í• ë‹¹ ë˜ë¯€ë¡œ ì—¬ëŸ¬ ê°ì²´ê°€ í•´ë‹¹ ë©”ëª¨ë¦¬ ê³µìœ 
  - static final ì„ ì–¸ì´ ì—†ìœ¼ë©´ ì—¬ëŸ¬ ê°ì²´(í•´ë‹¹ í´ë˜ìŠ¤)ê°€ ê°’ì„ ê³µìœ í•˜ê¸°ì— ë™ê¸°í™” ë³´ì¥ - x

## 01-2. Static ë©”ì„œë“œ(ì •ì  ë©”ì„œë“œ)

```java
// statis method -> ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
public final class CommonUtils {

    // ì˜¤ëŠ˜ ë‚ ì§œ ê¸°ì¤€ í¬ë§· í›„ ë°˜í™˜
    public static String getCurrentDate() {
        Date date = new Date();
        SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd");
        return dateFormat.format(date);
    }

    // ì´ë©”ì¼ ìœ íš¨ì„± ì—¬ë¶€
    public static boolean isValidEmail(String email) {
        return Patterns.EMAIL_ADDRESS.matcher(email).matches();
    }
}
```

> static methodëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤

- `static method`ëŠ” `ê°ì²´ ìƒì„± ì—†ì´` `í˜¸ì¶œ ê°€ëŠ¥`
- `ê°ì²´`ì—ì„œë„ `í˜¸ì¶œ ê°€ëŠ¥` -> ì§€ì–‘ í•„ìš”
- `ìœ í‹¸ë¦¬í‹° ê´€ë ¨ í•¨ìˆ˜` -> `ë‹¤ì–‘í•œ ê³³ì—ì„œ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©` -> `static method ì í•©`
- `static methodì—ì„œ ì ‘ê·¼`í•˜ê¸° ìœ„í•œ `ë³€ìˆ˜`ëŠ” ë°˜ë“œì‹œ -> `statis ë³€ìˆ˜`(í´ë˜ìŠ¤ ë³€ìˆ˜)

## 01-3. ì •ë¦¬

- `ì¸ìŠ¤í„´ìŠ¤`ì—ì„œ `ê³µí†µ`ìœ¼ë¡œ `ì‚¬ìš©` í•´ì•¼ í•  ë¶€ë¶„ì—ëŠ” `static` ì‚¬ìš©
  - ì¸ìŠ¤í„´ìŠ¤ ìƒì„±(new í´ë˜ìŠ¤ëª…())ì‹œ ê° ì¸ìŠ¤í„´ìŠ¤ëŠ” ì„œë¡œ ë‹¤ë¥¸ ë©”ëª¨ë¦¬ ì£¼ì†Œ í• ë‹¹
  - ì´ëŸ¬í•œ ì¸ìŠ¤í„´ìŠ¤ë“¤ì€ ê°ì ë‹¤ë¥¸ ê°’ì„ ìœ ì§€í•œë‹¤, í•˜ì§€ë§Œ ê³µìœ ë˜ì–´ì•¼ í•˜ëŠ” ê°’ì€ staticë¡œ ì„ ì–¸
- `ì „ì—­ìœ¼ë¡œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œ`ì—ëŠ” `static ì‚¬ìš©`
  - ì—¬ëŸ¬ ê³³ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œì—ëŠ” static ì‚¬ìš©
  - êµ³ì´ new í´ë˜ìŠ¤ëª…().ë©”ì„œë“œëª…() ì´ëŸ°ì‹ìœ¼ë¡œ í˜¸ì¶œ ì•ˆí•´ë„ ë¨

# 02. ìë°” ë©”ëª¨ë¦¬ ì˜ì—­ ê°„ë‹¨ ì •ë¦¬

![jvm.png](./img/jvm.png)

> ğŸ˜ƒ ì¶”í›„ JVM ì •ë¦¬ ì§„í–‰ í•  ë•Œ ë‹¤ì‹œ ì •ë¦¬í•  ì˜ˆì •ì´ì§€ë§Œ, ë§ì´ ë‚˜ì˜¨ ê¹€ì— ê°„ë‹¨íˆ ì •ë¦¬í•˜ê³  ë„˜ì–´ê°„ë‹¤  
> Javaì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°ëŠ” í¬ê²Œ ë©”ì„œë“œ(static), í™(heap), ìŠ¤íƒ(stack) 3ê°€ì§€ ì˜ì—­ìœ¼ë¡œ êµ¬ë¶„ëœë‹¤

`ìë°” ê°€ìƒ ë¨¸ì‹ `(JVM)ì´ë€ `JAVA ì• í”Œë¦¬ì¼€ì´ì…˜`ì„ `í´ë˜ìŠ¤ ë¡œë”`(class loader)ë¡œ ì½ì–´ì„œ `ìë°” APIì™€ í•¨ê»˜ ì‹¤í–‰í•˜ëŠ” ê°€ìƒë¨¸ì‹ `ì´ë‹¤.  
ë˜í•œ JAVAì™€ ìš´ì˜ì²´ì œ(OS) ì‚¬ì´ì—ì„œ ì¤‘ê³„ì ì—­í• ì„ ìˆ˜í–‰í•˜ì—¬ `OS`ì— `êµ¬ì• ë°›ì§€ ì•Šê³ ` ì‚¬ìš© í•  ìˆ˜ ìˆìœ¼ë©°, ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•´ì£¼ëŠ” ìŠ¤íƒ ê¸°ë°˜ì˜ ê°€ìƒë¨¸ì‹ ì´ë‹¤.

## 02-1. ë©”ì„œë“œ(static)

![static_ì˜ì—­.png](./img/static_ì˜ì—­.png)

> static ì˜ì—­ì€ Method, Class ì˜ì—­ì´ë¼ê³ ë„ ë¶ˆë¦°ë‹¤(ë™ì¼)

- `JVM` `ë™ì‘`í•˜ì—¬ `í´ë˜ìŠ¤`ê°€ `ë¡œë”©`ë  ë•Œ `ê°’ ìƒì„±`
  - í´ë˜ìŠ¤(class) ì •ë³´
  - ë©”ì„œë“œ(method)
  - í´ë˜ìŠ¤ ë³€ìˆ˜(static variable), í´ë˜ìŠ¤ ë©”ì„œë“œ(static method)
  - ìƒì„±ì(constructor)
- ë©”ì„œë“œ ì˜ì—­(method area) ë°ì´í„°, í”„ë¡œê·¸ë¨ ëë‚  ë•Œê¹Œì§€ ë‚¨ì•„ìˆìŒ
- ì–¸ì œ ì–´ë””ì„œë“  ì‚¬ìš© ê°€ëŠ¥(ë©”ëª¨ë¦¬ì— ì¡´ì¬)

## 02-2. í™(Heap)

```java
// ì°¸ì¡° ì£¼ì†Œ(myclass)ëŠ” ìŠ¤íƒ(stack)ì— ì¡´ì¬
MyClass myclass = new MyClass(); -> heapì— ì¡´ì¬
```

```text
---------------------------
|        Heap Area        |
|-------------------------|
| - Objects               |
| - Arrays                |
---------------------------
```

- ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œ(new í‚¤ì›Œë“œ) ìƒì„±ë˜ëŠ” ë©”ëª¨ë¦¬ ì˜ì—­
- `ìŠ¤íƒ` `ì˜ì—­`ê³¼ ë‹¤ë¥´ê²Œ `ë‹¨ 1ê°œì˜ heap ì˜ì—­`ë§Œ ìƒì„±
- `ì£¼ì†Œ ê°’`ì€ `ìŠ¤íƒ`ì— ì €ì¥
- ì°¸ì¡° íƒ€ì… ê°’ ì €ì¥
  - class(í´ë˜ìŠ¤)ì˜ ì¸ìŠ¤í„´ìŠ¤
    - ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜(instance variable)
    - ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ(instance method)
  - array(ë°°ì—´)
  - interface(ì¸í„°í˜ì´ìŠ¤)
  - enum(ìƒìˆ˜)
- GC ì •ë¦¬ ëŒ€ìƒ

## 02-3. ìŠ¤íƒ(Stack)

```text
---------------------------
|       Stack Area        |
|-------------------------|
| - Thread 1 Stack        |
|   - Local Variables     |
|   - Method Calls        |
|-------------------------|
| - Thread 2 Stack        |
|   - Local Variables     |
|   - Method Calls        |
---------------------------
```

- `ë©”ì„œë“œì˜` `ê¸°ë³¸ ìë£Œí˜•`(primitive Type) ê°’ì„ ì €ì¥í•˜ëŠ” ê³µê°„
  - `ë§¤ê°œë³€ìˆ˜`
  - `ì§€ì—­ ë³€ìˆ˜`
  - `ë¦¬í„´ ê°’`
- ê° ìŠ¤ë ˆë“œë³„ ë…ë¦½ì ì¸ ìŠ¤íƒ(Stack) ê³µê°„ ê°€ì§
- ë©”ì„œë“œ ì‹¤í–‰ -> ìŠ¤íƒ í”„ë ˆì„ ìƒì„± -> Stack ì˜ì—­ ì•ˆì˜ ë©”ì„œë“œ í˜¸ì¶œ
- ë©”ì„œë“œ í˜¸ì¶œ -> ë©”ëª¨ë¦¬ í• ë‹¹ -> ë©”ì„œë“œ ì¢…ë£Œ -> ë©”ëª¨ë¦¬ì—ì„œ ì†Œë©¸

## 99. ì°¸ê³  ìë£Œ

- [[Java] staticë³€ìˆ˜ì™€ static ë©”ì†Œë“œ](https://mangkyu.tistory.com/47)
- [[Java] static ë³€ìˆ˜ì™€ static ë©”ì†Œë“œ](https://dev-coco.tistory.com/23)
- [[JAVA] Static Keyword ì™€ Method Area (ë©”ì†Œë“œ ì˜ì—­)](https://ict-nroo.tistory.com/19)
- [[Java] JVM êµ¬ì¡°ì™€ ë©”ëª¨ë¦¬ ì˜ì—­ - Method, Heap, Stack Area](https://tape22.tistory.com/28)
- [[Java] JVM ë©”ëª¨ë¦¬ êµ¬ì¡° íŒŒí—¤ì³ ë³´ê¸° (Static, Stack, Heap)](https://hstory0208.tistory.com/entry/Java-JVM-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%AC%EC%A1%B0-%ED%8C%8C%ED%97%A4%EC%B3%90-%EB%B3%B4%EA%B8%B0-Static-Stack-Heap)