# EKS 클러스터 콘솔 상에서 구축 해보기

> 2024-12-27일자 기준으로 업데이트 된 AWS 콘솔 상에서 EKS 클러스터 구축에 관하여 정리.

## 1단계: 클러스터 구성

### 구성 옵션 - 신규

- 빠른 구성(EKS 자율 모드 사용) - 신규
  - EKS 클러스터 및 노드를 자동으로 1설정하는 간소화 옵션
  - 클러스터 및 노드 그룹 자동 생성
- 기본 설정으로 EKS 클러스터 제공
  - 세부 설정이나 커스텀이 필요한 경우는 비적합
- 사용자 지정 구성
  - EKS 세부 설정을 직접 정의하는 옵션
  - 클러스터 및 노드의 모든 구성 요소를 사용자가 직접 관리 및 제어
  - 네트워킹, 보안, IAM 역할, 노드 그룹 등을 완전히 커스텀 가능

### EKS 자율 모드 - 신규

> TODO

빠른 구성(EKS 자율 모드 사용) - 신규 를 선택한 경우 활성화 해주라고 하는데  
필자는 사용자 지정 구성을 선택하였기에, 비활성화 후 진행하라고 한다

### 클러스터 구성

- 이름
  - 클러스터명 지정
- 클러스터 IAM 역할
  - 클러스터 IAM 역할을 지정하여, Control Plan이 사용자를 대신하여 AWS 리소스 관리하도록 제어
  - 클러스터 생성 이후에는 IAM Role 변경` 불가능하다고 함
  - 즉, EKS Control Plan이 EC2, LB 생성 등등의 대한 제어를 할때 필요한 권한
  - 해당 Role은 아래 2개의 Policy를 가지고 있어야 한다고 함
    - AmazonEKSClusterPolicy: 클러스터 생성 및 관리에 필요한 권한 제공
    - AmazonEKSVPCResourceControllerPolicy: VPC 리소스와의 통신을 지원하는 권한 제공.

### Kubernetes 버전 설정

- 쿠버네티스 버전
  - 1.3.1 -> k8s 버전 지정
- 정책 업그레이드
  - 표준
    - 릴리스일로부터 `14개월` 동안 `k8s 버전 지원`
    - 지원 종료 시, 클러스터가 자동으로 다음 버전으로 업그레이드
  - 확장됨
    - 릴리스일로부터 `26개월` 동안 해당 `k8s 버전 지원`
    - 표준 지원 기간(14개월) 끝난 후, 추가 비용 발생하며 지원 계속 유지
    - 지원 종료 시, 클러스터가 자동으로 다음 버전으로 업그레이드
  - 버전을 지원한다?
    - AWS가 해당 버전을 안정적이고 보안적으로 운영할 수 있도록 관리하고 유지보수를 제공한다는 말
    - 지원 기간이 끝나면 보안과 안정성을 잃을 위험이 존재함
